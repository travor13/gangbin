<!DOCTYPE html>
<html>
<head>
  <style>
body {
  background-color: coral;
}
</style>
</head>
<body>

<img src="gangyo.png" width="200">

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

* {
  box-sizing: border-box;
}

#myInput {
  background-image: url('/css/searchicon.png');
  background-position: 10px 12px;
  background-repeat: no-repeat;
  width: 100%;
  font-size: 16px;
  padding: 12px 20px 12px 40px;
  border: 1px solid #ddd;
  margin-bottom: 12px;
}

#myUL {
  list-style-type: none;
  padding: 0;
  margin: 0;
}

#myUL li a {
  border: 1px solid #ddd;
  margin-top: -1px; /* Prevent double borders */
  background-color: #f6f6f6;
  padding: 12px;
  text-decoration: none;
  font-size: 18px;
  color: black;
  display: block
}

#myUL li a:hover:not(.header) {
  background-color: #eee;
}
</style>
</head>
<body>

<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">

<ul id="myUL">
  <li><a href="#">ëŒ€í•œë¯¼êµ­</a></li>
  <li><a href="#">ëŒ€í•œë¯¼êµ­</a></li>

  <li><a href="#">ğŸ•</a></li>
  <li><a href="#">ğŸ•</a></li>

  <li><a href="#">ìŠ¹ë¹ˆ</a></li>
  <li><a href="#">ë„ì€</a></li>
  <li><a href="#">ì„¸ì¸ë² ì´ë¹„</a></li>
  <li><a href="#">6-1</a></li>
</ul>

<script>
function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
</script>

        <title>ê°±ì‚¬ì´íŠ¸</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.js"></script>
        <script type="text/javascript">
            $(document).ready(function(){

                var reply_count = 0; //ì›ë˜ DBì— ì €ì¥í•˜ê³  ì €ì¥ ì•„ì´ë”” ë²ˆí˜¸ë¥¼ ë„˜ê²¨ì¤˜ì•¼ í•˜ëŠ”ë° DB ì—†ì´ ëŒ“ê¸€ ì†ŒìŠ¤ë§Œ ìˆì–´ DB ì—ì„œ ì•„ì´ë”” ì¦ê°€í•˜ëŠ”ê²ƒì²˜ëŸ¼ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìˆœë²ˆì„ ìƒì„±
                var status = false; //ìˆ˜ì •ê³¼ ëŒ€ëŒ“ê¸€ì„ ë™ì‹œì— ì ìš© ëª»í•˜ë„ë¡

                $("#list").click(function(){
                    alert("ëŒ“ê¸€ì°½ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤");
                    //location.href = "/board/list";
                });

                //ëŒ“ê¸€ ì €ì¥
                $("#reply_save").click(function(){

                    //ë„ ê²€ì‚¬
                    if($("#reply_writer").val().trim() == ""){
                        alert("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#reply_writer").focus();
                        return false;
                    }

                    if($("#reply_password").val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#reply_password").focus();
                        return false;
                    }

                    if($("#reply_content").val().trim() == ""){
                        alert("ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#reply_content").focus();
                        return false;
                    }

                    var reply_content = $("#reply_content").val().replace("\n", "<br>"); //ê°œí–‰ì²˜ë¦¬

                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            board_id        : $("#board_id").val(),
                            parent_id       : "0",
                            depth           : "0",
                            reply_writer    : $("#reply_writer").val(),
                            reply_password  : $("#reply_password").val(),
                            reply_content   : reply_content
                    };

                    var reply_id;

                    //ajax í˜¸ì¶œ (ì—¬ê¸°ì— ëŒ“ê¸€ì„ ì €ì¥í•˜ëŠ” ë¡œì§ì„ ê°œë°œ)
                    /*
                    $.ajax({
                        url         :   "/board/reply/save",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{
                                reply_id = retVal.reply_id;
                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */


                    reply_id = reply_count++;//DBì— ì €ì¥í–ˆë‹¤ í•˜ê³  ìˆœë²ˆì„ ìƒì„±

                    var reply_area = $("#reply_area");

                    var reply =
                        '<tr reply_type="main">'+
                        '   <td width="820px">'+
                        reply_content+
                        '   </td>'+
                        '   <td width="100px">'+
                        $("#reply_writer").val()+
                        '   </td>'+
                        '   <td width="100px">'+
                        '       <input type="password" id="reply_password_'+reply_id+'" style="width:100px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                        '   </td>'+
                        '   <td align="center">'+
                        '       <button name="reply_reply" reply_id = "'+reply_id+'">ëŒ“ê¸€</button>'+
                        '       <button name="reply_modify" r_type = "main" reply_id = "'+reply_id+'">ìˆ˜ì •</button>      '+
                        '       <button name="reply_del" reply_id = "'+reply_id+'">ì‚­ì œ</button>      '+
                        '   </td>'+
                        '</tr>';

                     if($('#reply_area').contents().size()==0){
                         $('#reply_area').append(reply);
                     }else{
                         $('#reply_area tr:last').after(reply);
                     }

                    //ëŒ“ê¸€ ì´ˆê¸°í™”
                    $("#reply_writer").val("");
                    $("#reply_password").val("");
                    $("#reply_content").val("");

                });

                //ëŒ“ê¸€ ì‚­ì œ
                $(document).on("click","button[name='reply_del']", function(){

                    var check = false;
                    var reply_id = $(this).attr("reply_id");
                    var reply_password = "reply_password_"+reply_id;

                    if($("#"+reply_password).val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œì„ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#"+reply_password).focus();
                        return false;
                    }

                    //íŒ¨ìŠ¤ì›Œë“œì™€ ì•„ì´ë””ë¥¼ ë„˜ê²¨ ì‚­ì œë¥¼ í•œë‹¤.
                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            reply_password  : $("#"+reply_password).val(),
                            reply_id        : reply_id
                    };

                    //ajax í˜¸ì¶œ
                    /*
                    $.ajax({
                        url         :   "/board/reply/del",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{

                                check = true;

                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */

                    check = true;//ì‚­ì œ ë˜ë©´ ì²´í¬ê°’ì„ trueë¡œ ë³€ê²½

                    if(check){
                        //ì‚­ì œí•˜ë©´ì„œ í•˜ìœ„ ëŒ“ê¸€ë„ ì‚­ì œ
                        var prevTr = $(this).parent().parent().next(); //ëŒ“ê¸€ì˜ ë‹¤ìŒ

                        while(prevTr.attr("reply_type")=="sub"){//ëŒ“ê¸€ì˜ ë‹¤ìŒì´ subë©´ ê³„ì† ë„˜ì–´ê°
                            prevTr = prevTr.next();
                            prevTr.prev().remove();
                        }

                        //ë§ˆì§€ë§‰ ë¦¬í”Œ ì²˜ë¦¬
                        if(prevTr.attr("reply_type") == undefined){
                            prevTr = $(this).parent().parent();
                            prevTr.remove();
                        }

                        $(this).parent().parent().remove();
                    }

                });

                //ëŒ“ê¸€ ìˆ˜ì • ì…ë ¥
                $(document).on("click","button[name='reply_modify']", function(){

                    var check = false;
                    var reply_id = $(this).attr("reply_id");
                    var r_type = $(this).attr("r_type");
                    var reply_password = "reply_password_"+reply_id;

                    if($("#"+reply_password).val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œì„ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#"+reply_password).focus();
                        return false;
                    }

                    //íŒ¨ìŠ¤ì›Œë“œì™€ ì•„ì´ë””ë¥¼ ë„˜ê²¨ íŒ¨ìŠ¤ì›Œë“œ í™•ì¸
                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            reply_password  : $("#"+reply_password).val(),
                            reply_id        : reply_id
                    };

                    //ajax í˜¸ì¶œ
                    /*
                    $.ajax({
                        url         :   "/board/reply/check",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{

                                check = true;

                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */

                    check = true;//íŒ¨ìŠ¤ì›Œë“œê°€ ë§ìœ¼ë©´ ì²´í¬ê°’ì„ trueë¡œ ë³€ê²½

                    if(status){
                        alert("ìˆ˜ì •ê³¼ ëŒ€ëŒ“ê¸€ì€ ë™ì‹œì— ë¶ˆê°€í•©ë‹ˆë‹¤.");
                        return false;
                    }



                    if(check){

                        status = true;

                        //ìê¸° ìœ„ì— ëŒ“ê¸€ ìˆ˜ì •ì°½ ì…ë ¥í•˜ê³  ê¸°ì¡´ê°’ì„ ì±„ìš°ê³  ìê¸° ìì‹  ì‚­ì œ
                        var txt_reply_content = $(this).parent().prev().prev().prev().html().trim(); //ëŒ“ê¸€ë‚´ìš© ê°€ì ¸ì˜¤ê¸°
                        if(r_type=="sub"){
                            txt_reply_content = txt_reply_content.replace("â†’ ","");//ëŒ€ëŒ“ê¸€ì˜ ëìŠ¤í‘œì‹œ(í™”ì‚´í‘œ) ì—†ì• ê¸°
                        }

                        var txt_reply_writer = $(this).parent().prev().prev().html().trim(); //ëŒ“ê¸€ì‘ì„±ì ê°€ì ¸ì˜¤ê¸°

                        //ì…ë ¥ë°›ëŠ” ì°½ ë“±ë¡
                        var replyEditor =
                           '<tr id="reply_add" class="reply_modify">'+
                           '   <td width="820px">'+
                           '       <textarea name="reply_modify_content_'+reply_id+'" id="reply_modify_content_'+reply_id+'" rows="3" cols="50">'+txt_reply_content+'</textarea>'+ //ê¸°ì¡´ ë‚´ìš© ë„£ê¸°
                           '   </td>'+
                           '   <td width="100px">'+
                           '       <input type="text" name="reply_modify_writer_'+reply_id+'" id="reply_modify_writer_'+reply_id+'" style="width:100%;" maxlength="10" placeholder="ì‘ì„±ì" value="'+txt_reply_writer+'"/>'+ //ê¸°ì¡´ ì‘ì„±ì ë„£ê¸°
                           '   </td>'+
                           '   <td width="100px">'+
                           '       <input type="password" name="reply_modify_password_'+reply_id+'" id="reply_modify_password_'+reply_id+'" style="width:100%;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                           '   </td>'+
                           '   <td align="center">'+
                           '       <button name="reply_modify_save" r_type = "'+r_type+'" reply_id="'+reply_id+'">ë“±ë¡</button>'+
                           '       <button name="reply_modify_cancel" r_type = "'+r_type+'" r_content = "'+txt_reply_content+'" r_writer = "'+txt_reply_writer+'" reply_id="'+reply_id+'">ì·¨ì†Œ</button>'+
                           '   </td>'+
                           '</tr>';
                        var prevTr = $(this).parent().parent();
                           //ìê¸° ìœ„ì— ë¶™ì´ê¸°
                        prevTr.after(replyEditor);

                        //ìê¸° ìì‹  ì‚­ì œ
                        $(this).parent().parent().remove();
                    }

                });
                //ëŒ“ê¸€ ìˆ˜ì • ì·¨ì†Œ
                $(document).on("click","button[name='reply_modify_cancel']", function(){
                    //ì›ë˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
                    var r_type = $(this).attr("r_type");
                    var r_content = $(this).attr("r_content");
                    var r_writer = $(this).attr("r_writer");
                    var reply_id = $(this).attr("reply_id");

                    var reply;
                    //ìê¸° ìœ„ì— ê¸°ì¡´ ëŒ“ê¸€ ì ê³ 
                    if(r_type=="main"){
                        reply =
                            '<tr reply_type="main">'+
                            '   <td width="820px">'+
                            r_content+
                            '   </td>'+
                            '   <td width="100px">'+
                            r_writer+
                            '   </td>'+
                            '   <td width="100px">'+
                            '       <input type="password" id="reply_password_'+reply_id+'" style="width:100px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                            '   </td>'+
                            '   <td align="center">'+
                            '       <button name="reply_reply" reply_id = "'+reply_id+'">ëŒ“ê¸€</button>'+
                            '       <button name="reply_modify" r_type = "main" reply_id = "'+reply_id+'">ìˆ˜ì •</button>      '+
                            '       <button name="reply_del" reply_id = "'+reply_id+'">ì‚­ì œ</button>      '+
                            '   </td>'+
                            '</tr>';
                    }else{
                        reply =
                            '<tr reply_type="sub">'+
                            '   <td width="820px"> â†’ '+
                            r_content+
                            '   </td>'+
                            '   <td width="100px">'+
                            r_writer+
                            '   </td>'+
                            '   <td width="100px">'+
                            '       <input type="password" id="reply_password_'+reply_id+'" style="width:100px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                            '   </td>'+
                            '   <td align="center">'+
                            '       <button name="reply_modify" r_type = "sub" reply_id = "'+reply_id+'">ìˆ˜ì •</button>'+
                            '       <button name="reply_del" reply_id = "'+reply_id+'">ì‚­ì œ</button>'+
                            '   </td>'+
                            '</tr>';
                    }

                    var prevTr = $(this).parent().parent();
                       //ìê¸° ìœ„ì— ë¶™ì´ê¸°
                    prevTr.after(reply);

                      //ìê¸° ìì‹  ì‚­ì œ
                    $(this).parent().parent().remove();

                    status = false;

                });

                  //ëŒ“ê¸€ ìˆ˜ì • ì €ì¥
                $(document).on("click","button[name='reply_modify_save']", function(){

                    var reply_id = $(this).attr("reply_id");

                    //ë„ ì²´í¬
                    if($("#reply_modify_writer_"+reply_id).val().trim() == ""){
                        alert("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#reply_modify_writer_"+reply_id).focus();
                        return false;
                    }

                    if($("#reply_modify_password_"+reply_id).val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#reply_modify_password_"+reply_id).focus();
                        return false;
                    }

                    if($("#reply_modify_content_"+reply_id).val().trim() == ""){
                        alert("ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.");
                        $("#reply_modify_content_"+reply_id).focus();
                        return false;
                    }
                    //DBì— ì—…ë°ì´íŠ¸ í•˜ê³ 
                    //ajax í˜¸ì¶œ (ì—¬ê¸°ì— ëŒ“ê¸€ì„ ì €ì¥í•˜ëŠ” ë¡œì§ì„ ê°œë°œ)
                    var reply_content = $("#reply_modify_content_"+reply_id).val().replace("\n", "<br>"); //ê°œí–‰ì²˜ë¦¬

                    var r_type = $(this).attr("r_type");

                    var parent_id;
                    var depth;
                    if(r_type=="main"){
                        parent_id = "0";
                        depth = "0";
                    }else{
                        parent_id = $(this).attr("reply_id");
                        depth = "1";
                    }

                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            board_id        : $("#board_id").val(),
                            parent_id       : parent_id,
                            depth           : depth,
                            reply_writer    : $("#reply_modify_writer_"+reply_id).val(),
                            reply_password  : $("#reply_modify_password_"+reply_id).val(),
                            reply_content   : reply_content
                    };
                    /*
                    $.ajax({
                        url         :   "/board/reply/update",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{
                                reply_id = retVal.reply_id;
                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */
                    //ìˆ˜ì •ëœëŒ“ê¸€ ë‚´ìš©ì„ ì ê³ 
                    if(r_type=="main"){
                        reply =
                            '<tr reply_type="main">'+
                            '   <td width="820px">'+
                            $("#reply_modify_content_"+reply_id).val()+
                            '   </td>'+
                            '   <td width="100px">'+
                            $("#reply_modify_writer_"+reply_id).val()+
                            '   </td>'+
                            '   <td width="100px">'+
                            '       <input type="password" id="reply_password_'+reply_id+'" style="width:100px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                            '   </td>'+
                            '   <td align="center">'+
                            '       <button name="reply_reply" reply_id = "'+reply_id+'">ëŒ“ê¸€</button>'+
                            '       <button name="reply_modify" r_type = "main" reply_id = "'+reply_id+'">ìˆ˜ì •</button>      '+
                            '       <button name="reply_del" reply_id = "'+reply_id+'">ì‚­ì œ</button>      '+
                            '   </td>'+
                            '</tr>';
                    }else{
                        reply =
                            '<tr reply_type="sub">'+
                            '   <td width="820px"> â†’ '+
                            $("#reply_modify_content_"+reply_id).val()+
                            '   </td>'+
                            '   <td width="100px">'+
                            $("#reply_modify_writer_"+reply_id).val()+
                            '   </td>'+
                            '   <td width="100px">'+
                            '       <input type="password" id="reply_password_'+reply_id+'" style="width:100px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                            '   </td>'+
                            '   <td align="center">'+
                            '       <button name="reply_modify" r_type = "sub" reply_id = "'+reply_id+'">ìˆ˜ì •</button>'+
                            '       <button name="reply_del" reply_id = "'+reply_id+'">ì‚­ì œ</button>'+
                            '   </td>'+
                            '</tr>';
                    }

                    var prevTr = $(this).parent().parent();
                       //ìê¸° ìœ„ì— ë¶™ì´ê¸°
                    prevTr.after(reply);

                      //ìê¸° ìì‹  ì‚­ì œ
                    $(this).parent().parent().remove();

                    status = false;

                });

                //ëŒ€ëŒ“ê¸€ ì…ë ¥ì°½
                $(document).on("click","button[name='reply_reply']",function(){ //ë™ì  ì´ë²¤íŠ¸

                    if(status){
                        alert("ìˆ˜ì •ê³¼ ëŒ€ëŒ“ê¸€ì€ ë™ì‹œì— ë¶ˆê°€í•©ë‹ˆë‹¤.");
                        return false;
                    }

                    status = true;

                    $("#reply_add").remove();

                    var reply_id = $(this).attr("reply_id");
                    var last_check = false;//ë§ˆì§€ë§‰ tr ì²´í¬

                    //ì…ë ¥ë°›ëŠ” ì°½ ë“±ë¡
                    var replyEditor =
                       '<tr id="reply_add" class="reply_reply">'+
                       '   <td width="820px">'+
                       '       <textarea name="reply_reply_content" rows="3" cols="50"></textarea>'+
                       '   </td>'+
                       '   <td width="100px">'+
                       '       <input type="text" name="reply_reply_writer" style="width:100%;" maxlength="10" placeholder="ì‘ì„±ì"/>'+
                       '   </td>'+
                       '   <td width="100px">'+
                       '       <input type="password" name="reply_reply_password" style="width:100%;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                       '   </td>'+
                       '   <td align="center">'+
                       '       <button name="reply_reply_save" reply_id="'+reply_id+'">ë“±ë¡</button>'+
                       '       <button name="reply_reply_cancel">ì·¨ì†Œ</button>'+
                       '   </td>'+
                       '</tr>';

                    var prevTr = $(this).parent().parent().next();

                    //ë¶€ëª¨ì˜ ë¶€ëª¨ ë‹¤ìŒì´ subì´ë©´ ë§ˆì§€ë§‰ sub ë’¤ì— ë¶™ì¸ë‹¤.
                    //ë§ˆì§€ë§‰ ë¦¬í”Œ ì²˜ë¦¬
                    if(prevTr.attr("reply_type") == undefined){
                        prevTr = $(this).parent().parent();
                    }else{
                        while(prevTr.attr("reply_type")=="sub"){//ëŒ“ê¸€ì˜ ë‹¤ìŒì´ subë©´ ê³„ì† ë„˜ì–´ê°
                            prevTr = prevTr.next();
                        }

                        if(prevTr.attr("reply_type") == undefined){//nextë’¤ì— trì´ ì—†ë‹¤ë©´ ë§ˆì§€ë§‰ì´ë¼ëŠ” í‘œì‹œë¥¼ í•´ì£¼ì
                            last_check = true;
                        }else{
                            prevTr = prevTr.prev();
                        }

                    }

                    if(last_check){//ë§ˆì§€ë§‰ì´ë¼ë©´ ì œì¼ ë§ˆì§€ë§‰ tr ë’¤ì— ëŒ“ê¸€ ì…ë ¥ì„ ë¶™ì¸ë‹¤.
                        $('#reply_area tr:last').after(replyEditor);
                    }else{
                        prevTr.after(replyEditor);
                    }

                });

                //ëŒ€ëŒ“ê¸€ ë“±ë¡
                $(document).on("click","button[name='reply_reply_save']",function(){

                    var reply_reply_writer = $("input[name='reply_reply_writer']");
                    var reply_reply_password = $("input[name='reply_reply_password']");
                    var reply_reply_content = $("textarea[name='reply_reply_content']");
                    var reply_reply_content_val = reply_reply_content.val().replace("\n", "<br>"); //ê°œí–‰ì²˜ë¦¬

                    //ë„ ê²€ì‚¬
                    if(reply_reply_writer.val().trim() == ""){
                        alert("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
                        reply_reply_writer.focus();
                        return false;
                    }

                    if(reply_reply_password.val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
                        reply_reply_password.focus();
                        return false;
                    }

                    if(reply_reply_content.val().trim() == ""){
                        alert("ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.");
                        reply_reply_content.focus();
                        return false;
                    }

                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            board_id        : $("#board_id").val(),
                            parent_id       : $(this).attr("reply_id"),
                            depth           : "1",
                            reply_writer    : reply_reply_writer.val(),
                            reply_password  : reply_reply_password.val(),
                            reply_content   : reply_reply_content_val
                    };

                    var reply_id;

                    //ajax í˜¸ì¶œ
                    /*
                    $.ajax({
                        url         :   "/board/reply/save",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{
                                reply_id = retVal.reply_id;
                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */

                    reply_id = reply_count++;//DBì— ì €ì¥í–ˆë‹¤ í•˜ê³  ìˆœë²ˆì„ ìƒì„±

                    var reply =
                        '<tr reply_type="sub">'+
                        '   <td width="820px"> â†’ '+
                        reply_reply_content_val+
                        '   </td>'+
                        '   <td width="100px">'+
                        reply_reply_writer.val()+
                        '   </td>'+
                        '   <td width="100px">'+
                        '       <input type="password" id="reply_password_'+reply_id+'" style="width:100px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>'+
                        '   </td>'+
                        '   <td align="center">'+
                        '       <button name="reply_modify" r_type = "sub" reply_id = "'+reply_id+'">ìˆ˜ì •</button>'+
                        '       <button name="reply_del" reply_id = "'+reply_id+'">ì‚­ì œ</button>'+
                        '   </td>'+
                        '</tr>';

                    var prevTr = $(this).parent().parent().prev();

                    prevTr.after(reply);

                    $("#reply_add").remove();

                    status = false;

                });

                //ëŒ€ëŒ“ê¸€ ì…ë ¥ì°½ ì·¨ì†Œ
                $(document).on("click","button[name='reply_reply_cancel']",function(){
                    $("#reply_add").remove();

                    status = false;
                });

                //ê¸€ìˆ˜ì •
                $("#modify").click(function(){

                    var password = $("input[name='password']");

                    if(password.val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
                        password.focus();
                        return false;
                    }

                    //ajaxë¡œ íŒ¨ìŠ¤ì›Œë“œ ê²€ìˆ˜ í›„ ìˆ˜ì • í˜ì´ì§€ë¡œ í¬ì›Œë”©
                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            id       : $("#board_id").val(),
                            password : $("#password").val()
                    };

                    //ajax í˜¸ì¶œ
                       alert("íŒ¨ìŠ¤ì›Œë“œ ì²´í¬í•˜ê³  ë§ìœ¼ë©´ ìˆ˜ì •í˜ì´ì§€ë¡œ ì´ë™");
                    /*
                    $.ajax({
                        url         :   "/board/check",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{
                                location.href = "/board/edit?id="+$("#board_id").val();
                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */

                });

                //ê¸€ ì‚­ì œ
                $("#delete").click(function(){

                    var password = $("input[name='password']");

                    if(password.val().trim() == ""){
                        alert("íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
                        password.focus();
                        return false;
                    }

                    //ajaxë¡œ íŒ¨ìŠ¤ì›Œë“œ ê²€ìˆ˜ í›„ ìˆ˜ì • í˜ì´ì§€ë¡œ í¬ì›Œë”©
                    //ê°’ ì…‹íŒ…
                    var objParams = {
                            id       : $("#board_id").val(),
                            password : $("#password").val()
                    };

                    alert("íŒ¨ìŠ¤ì›Œë“œ ì²´í¬í•˜ê³  ë§ìœ¼ë©´ ê²Œì‹œê¸€ ì‚­ì œí›„ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ ì´ë™");
                    /*
                    //ajax í˜¸ì¶œ
                    $.ajax({
                        url         :   "/board/del",
                        dataType    :   "json",
                        contentType :   "application/x-www-form-urlencoded; charset=UTF-8",
                        type        :   "post",
                        async       :   false, //ë™ê¸°: false, ë¹„ë™ê¸°: ture
                        data        :   objParams,
                        success     :   function(retVal){

                            if(retVal.code != "OK") {
                                alert(retVal.message);
                            }else{
                                alert("ì‚­ì œ ë˜ì—ˆìŠµë‹ˆë‹¤.");
                                location.href = "/board/list";
                            }

                        },
                        error       :   function(request, status, error){
                            console.log("AJAX_ERROR");
                        }
                    });
                    */

                });

            });
        </script>
    </head>
    <style>
        textarea{
              width:100%;
            }

        .reply_reply {
                border: 2px solid #FF50CF;
            }
        .reply_modify {
                border: 2px solid #FFBB00;
            }
    </style>
    <body>
        <input type="hidden" id="board_id" name="board_id" value="${boardView.id}" />
        <div align="center">
            </br>
            </br>
            <table border="1" width="1200px" >
                <tr>
                    <td colspan="2" align="right">
                        <input type="password" id="password" name="password" style="width:200px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>
                        <button id="modify" name="modify">ê¸€ ìˆ˜ì •</button>
                        <button id="delete" name="delete">ê¸€ ì‚­ì œ</button>
                    </td>
                </tr>
                <tr>
                    <td width="900px">
                        ì œëª©: ì•ˆë…•í•˜ì„¸ìš” 6-1
                    </td>
                    <td>
                        ì‘ì„±ì:í—ˆìŠ¹ë¹ˆ
                    </td>
                </tr>
                <tr height="200px">
                    <td colspan="2" valign="top">
                        ì•ˆë…•í•˜ì„¸ìš” 6-1 <br>
                        ì›¹ì‚¬ì´íŠ¸ë¡œ ëµˆë„¤ìš” <br>
                        2021 ê±´ê°•í•˜ì„¸ìš”
                    </td>
                </tr>
            </table>
            <table border="1" width="1200px" id="reply_area">
                <tr reply_type="all"><!-- ë’¤ì— ëŒ“ê¸€ ë¶™ì´ê¸° ì‰½ê²Œ ì„ ì–¸ -->
                    <td colspan="4"></td>
                </tr>
                <!-- ëŒ“ê¸€ì´ ë“¤ì–´ê°ˆ ê³µê°„ -->
            </table>
            <table border="1" width="1200px" bordercolor="#46AA46">
                <tr>
                    <td width="500px">
                        ì´ë¦„: <input type="text" id="reply_writer" name="reply_writer" style="width:170px;" maxlength="10" placeholder="ì‘ì„±ì"/>
                        íŒ¨ìŠ¤ì›Œë“œ: <input type="password" id="reply_password" name="reply_password" style="width:170px;" maxlength="10" placeholder="íŒ¨ìŠ¤ì›Œë“œ"/>
                        <button id="reply_save" name="reply_save">ëŒ“ê¸€ ë“±ë¡</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <textarea id="reply_content" name="reply_content" rows="4" cols="50" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea>
                    </td>
                </tr>
            </table>
            <table width="1200px">
                <tr>
                    <td align="right">
                        <button id="list" name="list">ê²Œì‹œíŒ</button>
                    </td>
                </tr>
            </table>
        </div>

</body>
</html>
